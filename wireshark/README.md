This directory contains a Dockerfile that builds wireshark that is patched to understand the OIDs and codepoints in TLS 1.3 that are supported by OQS-OpenSSL.

## Quick start

1) Be sure to have [docker installed](https://docs.docker.com/install).
2) Run `docker build -t oqs-ws .` to create an QSC-enabled (codepoint and OID aware) wireshark docker image

## Execution / Test

As `wireshark` is an X11-based application, it needs access to the X-Display of its host. It further needs privileged access to the host's network interface.

Therefore, a suitable startup command is 

      docker run --net=host --privileged --env="DISPLAY" --volume="$HOME/.Xauthority:/root/.Xauthority:rw" oqs-ws

### Interacting with a QSC-enabled test server

At https://test.openquantumsafe.org most quantum-safe algorithms that are still part of the NIST PQC competition are available for TLS interoperability testing.

As a client, we recommend using an OQS-enabled `curl` docker image that may be executed for a quick initial test as follows:

     docker run -it openquantumsafe/curl sh -c "curl -k https://test.openquantumsafe.org:6120 --curves p521_frodo1344aes"

For more details, we recommend reviewing https://hub.docker.com/repository/docker/openquantumsafe/curl

In order to focus `wireshark` on the quantum safe TLS traffic generated by the above `curl` command, we recommend setting a wireshark display filter as follows

     ip.addr == 149.81.106.123

which is the current IP address of the OQS interop test server at https://test.openquantumsafe.org.

Other algorithms can be configured for use as per the documentation for OQS-curl.

*Note:* `wireshark` might not recognize the TLS traffic as such due to the ports used at the OQS interoperability test server. In such case, enable the port of interest within the wireshark UI by adding it to the "SSL/TLS Ports" list (Edit->Preferences->Protocols->HTTP).
